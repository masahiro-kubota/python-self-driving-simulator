# Default Vehicle Parameters
# デフォルト車両パラメータ設定
# (これらの値は scripts/system_identification/estimate_dynamics.py によって同定された実機データに基づいています)

# Base Geometry (基本形状)
wheelbase: 1.087 # ホイールベース [m]
width: 1.30      # 車幅 [m]
front_overhang: 0.467 # フロントオーバーハング [m]
rear_overhang: 0.510  # リアオーバーハング [m]
vehicle_height: 0.5   # 車両高さ [m]

# Kinematics (運動学制約)
max_steering_angle: 0.367 # 最大ステアリング角 [rad]
max_velocity: 35.0      # 最大速度 [m/s]
max_acceleration: 4.37   # 最大加速度 [m/s^2]

# ステアリングゲイン (DCゲイン)
# 統合値 = アクチュエータゲイン × タイヤ滑り補正係数
# システム同定 (Yaw Rate FOPDT): scripts/system_identification/estimate_dynamics.py
# K_total = 0.6209
steer_gain: 0.6209

steer_tau: 0.1460            # FOPDT時定数 [秒]
steer_delay_time: 0.3644      # FOPDT無駄時間 [秒]
max_steer_rate: 0.9366         # ステア角の最大変化率 [rad/s]

# Longitudinal Dynamics (縦方向ダイナミクス)
accel_gain: 0.1             # 加速度ゲイン (補正係数)
accel_offset: 0.8660        # 加速バイアス [m/s^2]
drag_coefficient: 0.1097    # 空気抵抗係数 (C_drag * v * |v|)
cornering_drag_coefficient: 0.0418 # コーナリング抵抗係数 (C_corner * |steer| * v^2)

# Sensors (センサー設定)
lidar:
  num_beams: 1080       # レーザー照射数 [本]
  range_max: 30.0       # 最大計測距離 [m]
  range_min: 0.1        # 最小計測距離 [m]
  fov: 270.0            # 視野角 [deg]
  angle_increment: 0.0  # 角度分解能 (0.0の場合はfov/num_beamsで自動計算) [deg]
  x: 1.5   # 車両中心からのX座標オフセット（前方） [m]
  y: 0.0   # 車両中心からのY座標オフセット（左方） [m]
  z: 1.8   # 地面からの高さ [m]
  yaw: 0.0 # センサーのヨー角（車両前方基準） [rad]
  publish_rate_hz: 50.0 # LiDARデータ出力周期 [Hz] - TinyLidarNetの制御周期に合わせる
