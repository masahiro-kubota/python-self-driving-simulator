
# Track Forward Environment Configuration
# start_track_forward: 初期位置から3m前方に障害物を1つ配置する設定

defaults:
  - default
  - _self_

obstacles:
  generation:
    enabled: true
    groups:
      - name: "single_forward_obstacle"
        type: static
        count: 1
        shape:
          type: rectangle
          width: ${vehicle.width}   # 車両の幅 [m]
          length: ${eval:'${vehicle.wheelbase} + ${vehicle.front_overhang} + ${vehicle.rear_overhang}'} # 車両の全長 (ホイールベース + 前後オーバーハング) [m]
          height: ${vehicle.vehicle_height}   # 高さ [m]
        placement:
          strategy: track_forward
          forward_distance_range: [6.0, 10.0] # 前方への距離の範囲 [min, max] [m]
          lateral_offset_range: [-3.0, 3.0] # 横方向オフセット範囲 [min, max] [m] (中心より左-, 右+)
          require_within_bounds: true # Map内（Lanelet内）に完全に収まることを要求
          yaw_mode: aligned
          yaw_offset_range: [-0.0, 0.0] # Yaw方向のオフセット範囲 [min, max] [rad]
    exclusion_zone:
      enabled: true
      distance: 1.0 # 1m以上離れていれば許可（3m先ならOK）

  list: []

initial_state_sampling:
  enabled: true
  position_mode: track_random
  lateral_offset_range: [-2.0, 2.0]   # centerlineからの横方向オフセット範囲 [m]
  yaw_offset_range: [-0.2, 0.2]        # centerline方向に対する姿勢オフセット範囲 [rad] (~±11度)
  velocity_range: [2.8, 2.8]
  max_retries: 10
