module:
  name: "pure_pursuit_pid"

  components:
    ad_component:
      type: "ad_component_core.flexible_ad_component.FlexibleADComponent"
      params:
        nodes:
          - name: "Sensor"
            processor:
              type: "core.processors.sensor.IdealSensorProcessor"
              params: {}
            io:
              inputs: ["sim_state"]
              output: "vehicle_state"
            rate_hz: 50.0

          - name: "Perception"
            processor:
              type: "core.processors.perception.BasicPerceptionProcessor"
              params: {}
            io:
              inputs: ["vehicle_state"]
              output: "observation"
            rate_hz: 50.0

          - name: "Planning"
            processor:
              type: "pure_pursuit.PurePursuitPlanner"
              params:
                lookahead_distance: 5.0
                track_path: "ad_components/planning/pure_pursuit/src/pure_pursuit/data/tracks/raceline_awsim_15km.csv"
            io:
              inputs: ["vehicle_state", "observation"]
              output: "trajectory"
            rate_hz: 10.0

          - name: "Control"
            processor:
              type: "pid_controller.PIDController"
              params:
                kp: 1.0
                ki: 0.1
                kd: 0.05
            io:
              inputs: ["trajectory", "vehicle_state", "observation"]
              output: "action"
            rate_hz: 30.0

    simulator:
      type: "KinematicSimulator"
      params:
        dt: 0.1
